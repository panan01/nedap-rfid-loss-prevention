"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var i=_superPropBase(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}!function(){var t=function(){function r(t){_classCallCheck(this,r),t=t||{};var e=this;this.animate=function(){e.animating&&requestAnimationFrame(e.animate),e.redraw()},this.resize=function(){e.redraw()},this.redrawListeners=[],"function"==typeof t.onRedraw&&this.redrawListeners.push(t.onRedraw),this.animating=t.animate||!1,this.animating&&this.animate(),"boolean"==typeof t.autoResize&&!t.autoResize||this.startResizeListener()}return _createClass(r,[{key:"addRedrawListener",value:function(t){this.redrawListeners.indexOf(t)<0&&this.redrawListeners.push(t)}},{key:"removeRedrawListener",value:function(t){var e=this.redrawListeners.indexOf(t);0<=e&&this.redrawListeners.splice(e,1)}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.resize)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.resize)}},{key:"startAnimation",value:function(){this.animating=!0,this.animate()}},{key:"stopAnimation",value:function(){this.animating=!1}},{key:"redraw",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this.redrawListeners[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){i.value.call(this)}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}}]),r}();window.Chart=t;var e=function(){function i(t,e){var r;return _classCallCheck(this,i),r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e)),e=e||{},r.canvas=t,r.context=t.getContext("2d"),r}return _inherits(i,t),_createClass(i,[{key:"redraw",value:function(){_get(_getPrototypeOf(i.prototype),"redraw",this).call(this),this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.render(this.canvas,this.context,this.canvas.width,this.canvas.height)}},{key:"render",value:function(){}}]),i}();window.CanvasChart=e;var r=function(){function i(t,e){var r;return _classCallCheck(this,i),r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t,e)),e=e||{},r.total=0,r.data={},r.hollow="number"==typeof e.hollow?e.hollow:0,r.margin="number"==typeof e.margin?e.margin:10,r.angle="number"==typeof e.angle?e.angle:0,r}return _inherits(i,e),_createClass(i,[{key:"updateData",value:function(t,e,r){for(var i in this.data[t]={id:t,color:e,value:r},this.total=0,this.data){var n=this.data[i];this.total+=n.value}return this}},{key:"removeData",value:function(t){return delete this.data[t],this}},{key:"render",value:function(t,e,r,i){e.clearRect(0,0,r,i);var n=r/2,a=i/2,o=Math.min(r,i)/2-this.margin,s=o*this.hollow,l=this.angle/360,h=0;for(var u in this.data){var f=this.data[u],c=h+f.value/this.total;e.fillStyle=f.color,function(t,e,r,i,n,a,o){if(n<0)return;i<0&&(i=0);var s=2*a*Math.PI,l=2*o*Math.PI;t.beginPath(),t.arc(e,r,n,s,l),0===i?t.lineTo(e,r):t.arc(e,r,i,l,s,!0);t.closePath(),t.fill()}(e,n,a,s,o,h+l,c+l),h=c}}}]),i}();window.PieChart=r;var n=function(){function i(t,e){var r;return _classCallCheck(this,i),(r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t,e))).data={},r.colors={},r.labels=[],r.min=1/0,r.max=-1/0,r.bounds=o(r.min,r.max),r.dataSize=0,r.dataCount=0,r}return _inherits(i,e),_createClass(i,[{key:"recomputeMinMax",value:function(){var t=1/0,e=-1/0,r=-1/0,i=0;for(var n in this.colors){var a=this.data[n];a&&Array.isArray(a)&&(t=Math.min.apply(Math,[t].concat(_toConsumableArray(a))),e=Math.max.apply(Math,[e].concat(_toConsumableArray(a))),r=Math.max(r,a.length),i++)}this.min=t,this.max=e,this.bounds=o(this.min,this.max),this.dataSize=r,this.dataCount=i}},{key:"setLabels",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.labels=[].concat(e),this}},{key:"updateData",value:function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return this.data[t]=r,this.recomputeMinMax(),this}},{key:"addId",value:function(t,e){return this.colors[t]=e,this.recomputeMinMax(),this}},{key:"removeId",value:function(t){return delete this.colors[t],this.recomputeMinMax(),this}}]),i}();function s(t){return Math.floor(Math.log(t)/Math.LN10+1e-9)}function o(t,e){var r,i=Math.max(s(t),s(e)),n=(r=i,Math.pow(10,r)),a=Math.floor(t/n),o=Math.ceil(e/n);return{lo:a*n,hi:o*n,steps:o-a,stepSize:n}}function K(t,e,r,i,n){return(i-(a=r))*((n-(o=t))/(e-o))+a;var a,o}window.NamedRowChart=n;var i=function(){function i(t,e){var r;return _classCallCheck(this,i),r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t,e)),e=e||{},r.alpha="number"==typeof e.alpha?e.alpha:.4,r.lower="number"==typeof e.lower?e.lower:null,r.upper="number"==typeof e.upper?e.upper:null,r.steps="number"==typeof e.steps?e.steps:null,r.margin="number"==typeof e.margin?e.margin:10,r.font="string"==typeof e.font?e.font:"12px IBMPlexSans",r}return _inherits(i,n),_createClass(i,[{key:"render",value:function(t,e,r,i){e.clearRect(0,0,r,i),e.font=this.font,e.textAlign="left",e.textBaseline="alphabetic";var n,a,o=r-2*this.margin,s=i-2*this.margin,l=null!==this.lower&&null!==this.upper&&null!==this.steps?(n=this.lower,a=this.upper,this.steps):(n=this.bounds.lo,a=this.bounds.hi,this.bounds.steps);e.strokeStyle="rgba(0, 0, 0, 0.3)",e.fillStyle="rgba(0, 0, 0, 0.7)",e.lineWidth=2;for(var h=0;h<=l;h++){var u=K(0,l,this.margin+s,this.margin,h);e.beginPath(),e.moveTo(this.margin,u),e.lineTo(this.margin+o,u),e.stroke();var f=Math.floor(K(0,l,n,a,h));e.fillText(f,this.margin,u-2)}if(0<this.alpha){for(var c in e.globalAlpha=this.alpha,this.colors){var p=this.colors[c],y=this.data[c];if(y&&Array.isArray(y)){e.fillStyle=p+"",e.beginPath(),e.moveTo(this.margin,this.margin+s);var g=0,m=!0,v=!1,d=void 0;try{for(var b,w=y[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var _=b.value,S=K(0,this.dataSize-1,this.margin,this.margin+o,g),C=K(n,a,this.margin+s,this.margin,_);e.lineTo(S,C),g++}}catch(t){v=!0,d=t}finally{try{m||null==w.return||w.return()}finally{if(v)throw d}}e.lineTo(this.margin+o,this.margin+s),e.closePath(),e.fill()}}e.globalAlpha=1}for(var x in this.colors){var P=this.colors[x],k=this.data[x];if(k&&Array.isArray(k)){e.strokeStyle=P+"",e.beginPath();var M="moveTo",A=0,O=!0,R=!1,z=void 0;try{for(var T,L=k[Symbol.iterator]();!(O=(T=L.next()).done);O=!0){var j=T.value,I=K(0,this.dataSize-1,this.margin,this.margin+o,A),B=K(n,a,this.margin+s,this.margin,j);e[M](I,B),M="lineTo",A++}}catch(t){R=!0,z=t}finally{try{O||null==L.return||L.return()}finally{if(R)throw z}}e.stroke()}}e.textAlign="center",e.textBaseline="top";var E=0,W=!0,D=!(e.fillStyle="rgba(0, 0, 0, 0.7)"),H=void 0;try{for(var N,q=this.labels[Symbol.iterator]();!(W=(N=q.next()).done);W=!0){var F=N.value,G=K(0,this.dataSize-1,this.margin,this.margin+o,E),J=this.margin+s+2;e.fillText(F,G,J),E++}}catch(t){D=!0,H=t}finally{try{W||null==q.return||q.return()}finally{if(D)throw H}}}}]),i}();window.AreaChart=i;var a=function(){function i(t,e){var r;return _classCallCheck(this,i),r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t,e)),e=e||{},r.groupSpacing="number"==typeof e.groupSpacing?e.groupSpacing:15,r.barSpacing="number"==typeof e.barSpacing?e.barSpacing:2,r.leftMargin="number"==typeof e.leftMargin?e.leftMargin:30,r.lower="number"==typeof e.lower?e.lower:null,r.upper="number"==typeof e.upper?e.upper:null,r.steps="number"==typeof e.steps?e.steps:null,r.margin="number"==typeof e.margin?e.margin:10,r.font="string"==typeof e.font?e.font:"12px IBMPlexSans",r}return _inherits(i,n),_createClass(i,[{key:"render",value:function(t,e,r,i){e.clearRect(0,0,r,i),e.font=this.font,e.textAlign="left",e.textBaseline="alphabetic";var n,a,o=r-2*this.margin,s=i-2*this.margin,l=null!==this.lower&&null!==this.upper&&null!==this.steps?(n=this.lower,a=this.upper,this.steps):(n=this.bounds.lo,a=this.bounds.hi,this.bounds.steps);e.strokeStyle="rgba(0, 0, 0, 0.3)",e.fillStyle="rgba(0, 0, 0, 0.7)",e.lineWidth=2;for(var h=0;h<=l;h++){var u=K(0,l,this.margin+s,this.margin,h);e.beginPath(),e.moveTo(this.margin,u),e.lineTo(this.margin+o,u),e.stroke();var f=Math.floor(K(0,l,n,a,h));e.fillText(f,this.margin,u-2)}var c=o-this.leftMargin,p=c/this.dataSize,y=(p-this.groupSpacing-this.barSpacing*(this.dataCount-1))/this.dataCount,g=this.groupSpacing/2+this.leftMargin+this.margin;for(var m in this.colors){var v=this.colors[m],d=this.data[m];if(d&&Array.isArray(d)){e.fillStyle=v;var b=0,w=!0,_=!1,S=void 0;try{for(var C,x=d[Symbol.iterator]();!(w=(C=x.next()).done);w=!0){var P=C.value,k=(K(0,this.dataSize-1,this.margin,this.margin+o,b),K(n,a,this.margin+s,this.margin,P)),M=K(n,a,0,s,P);e.fillRect(g+b*p,k,y,M),b++}}catch(t){_=!0,S=t}finally{try{w||null==x.return||x.return()}finally{if(_)throw S}}}g+=y+this.barSpacing}e.textAlign="center",e.textBaseline="top";var A=0,O=!0,R=!(e.fillStyle="rgba(0, 0, 0, 0.7)"),z=void 0;try{for(var T,L=this.labels[Symbol.iterator]();!(O=(T=L.next()).done);O=!0){var j=T.value,I=K(0,this.dataSize,this.margin,this.margin+c,A)+p/2+this.leftMargin,B=this.margin+s+2;e.fillText(j,I,B),A++}}catch(t){R=!0,z=t}finally{try{O||null==L.return||L.return()}finally{if(R)throw z}}}}]),i}();window.BarChart=a}();